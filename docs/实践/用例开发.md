# 用例开发

## 用例模块路径

```shell
my_autotest
├─ case    <--用例模块 # [!code focus]
│   ├─ assert_res # [!code focus]
│   │   └─ README.md # [!code focus]
│   ├─ base_case.py # [!code focus]
│   ├─ test_mycase_001.py # [!code focus]
│   └─ test_mycase_002.py v
├─ method      
│   ├─ image_res
│   │   └─ README.md
│   ├─ static_res
│   │   └─ README.md
│   ├─ assert_method.py
│   ├─ base_method.py
│   ├─ my_autotest_method.py
│   └─ ui.ini
├─ .gitignore
├─ README.md
├─ config.py  
├─ conftest.py
├─ mycase.csv
├─ pytest.ini
├─ requirements.txt
└─ ruff.toml
```

## 以 dde-file-manager 用例举例

::: tip case/base_case.py

```python
from method.assert_method import AssertMethod


class BaseCase(AssertMethod):
    ...
```

:::

::: tip test_dfm_001.py

```python
from youqu3 import sleep

from case.base_case import BaseCase
from method.dde_dock_method import DdeDockMethod


class TestDfm(BaseCase):

    def test_dfm_1159151(self):
        """任务栏右键启动文件管理器"""
        # 右键点击任务栏上的文件管理器
        DdeDockMethod.right_click_dde_file_manager_on_dock_by_attr()
        # 点击右键菜单中的“打开”
        DdeDockMethod.click_open_in_right_menu_by_mk()
        sleep(2)
        # 断言
        self.assert_process_exist("dde-file-manager")

    def teardown_method(self):
        """teardown"""
        DdeDockMethod.kill_process("dde-file-manager")
```

:::

## 实践规范

### 用例文件名称

```bash
test_{case_name}_{case_id}.py
```

- 小驼峰命名。
- `test_` 开头。
- `case_id` 结尾。

### 类名称

- 大驼峰命名。
- 以 `Test` 开头。
- 以 `用例名称` 结尾，所有用例可以使用相同的类名。
- 继承 `BaseCase`。

### 用例函数

```python
def test_{case_name}_{case_id}():
    ...
```

### 用例注释

```python
def test_{case_name}_{case_id}():
    """用例标题"""    <--用例注释 # [!code focus]
```

### CSV文件

- CSV文件名称对应用例文件名称的 `case_name`：`{case_name}.csv` 。
- 第一列写 `case_id` 。